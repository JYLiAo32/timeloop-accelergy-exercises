architecture:
  version: 0.4
  nodes:
  - !Container
    name: System
    attributes:
      technology: "40nm"
      global_cycle_seconds: 1e-9

  - !Component
    name: MainMemory
    class: DRAM
    attributes:
      width: 256
      datawidth: 8

  # 这里定义和v2的不一致了，没有嵌套一个名为Chip的container
  - !Component
    name: GlobalBuffer
    class: SRAM
    attributes:
      depth: 32768
      width: 64
      datawidth: 8

  - !Container
    name: PE
    spatial: {meshX: 16}  # 注意对比v2版本的配置!

  - !Component
    name: RegisterFile
    class: regfile
    attributes:
      depth: 64
      width: 8
      datawidth: 8

  - !Component
    name: MACC
    class: intmac
    attributes:
      width: 8
